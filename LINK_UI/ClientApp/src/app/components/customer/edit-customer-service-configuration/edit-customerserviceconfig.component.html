<div class="main-wrapper">
  <div class="wrapper dashboard-wrapper">
    <div class="my-container">
      <div class="master-body">
        <div class="title-container">
          <div class="header-back-button" *ngIf="!savedataloading && !initialLoading">
            <img src="assets/images/back-red.png" alt="back"
              (click)="return('cusservicesearch/customer-serviceconfig');">
          </div>
          <h3 class="main-title">
            {{ 'EDIT_CUSTOMER_SERVICECONFIG.TITLE' | translate }}
          </h3>
        </div>

        <div class="content-container">
          <h4 class="container-head">{{ 'EDIT_CUSTOMER_PRODUCT.LBL_MAIN' | translate }}</h4>
          <div class="formPadding">

            <div class="panel-group">
              <div class="panel panel-primary" style="overflow: unset;">
                <div id="bscsearch" class="panel-collapse in">
                  <div class="panel-body">
                    <div class="row">
                      <div class="col-sm-3 col-md-3 col-lg-3">
                        <div class="my-input-group">
                          <label style="text-align:left" class="control-label"> {{
                            'EDIT_CUSTOMER_SERVICECONFIG.Customer' | translate }}</label>
                          <ng-select [items]="customerList" [multiple]="false" [closeOnSelect]="true"
                            [searchable]="true" bindLabel="name" bindValue="id" [loading]="initialLoading"
                            [disabled]="true" placeholder="--- {{ 'CUSTOMER_DEPARTMENT.LBL_SELECT' | translate }} ---"
                            [(ngModel)]="customerID"></ng-select>

                        </div>
                      </div>
                      <div class="col-sm-3 col-md-3 col-lg-3 mobile-margin-top-15">
                        <div class="my-input-group">
                          <label style="text-align:left" class="control-label required"> {{
                            'EDIT_CUSTOMER_SERVICECONFIG.Service' | translate }}</label>
                          <ng-select [items]="serviceList" [multiple]="false" [closeOnSelect]="true" [searchable]="true"
                            bindLabel="name" [loading]="initialLoading" bindValue="id"
                            placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                            [(ngModel)]="model.service" [ngClass]="{ 'is-invalid': !validator.isValid('service')}"
                            (ngModelChange)="selectDepartment($event)">
                          </ng-select>
                          <div *ngIf="!validator.isValid('service')" class="invalid-feedback" style="display:block">
                            <div *ngFor="let error of validator.getErrors('service')">{{ error | translate }}</div>
                          </div>
                        </div>
                      </div>
                      <!-- <div class="col-sm-3 col-md-3 col-lg-3 mobile-margin-top-15" *ngIf="!isProductCategory">
                                  <div class="my-input-group">
                                      <label style="text-align:left" class="control-label">{{ 'EDIT_CUSTOMER_SERVICECONFIG.ProductCategory' | translate }}</label>
                                      <ng-select [items]="productCategoryList"
                                        [multiple]="false"
                                        [closeOnSelect]="true"
                                        [searchable]="true"
                                        bindLabel="name"
                                        bindValue="id"
                                        [loading]="initialLoading"
                                        placeholder="---  {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                                        [(ngModel)]="model.productCategory"
                                        [ngClass]="{ 'is-invalid': !validator.isValid('productCategory')}">
                                    </ng-select>
                                    <div *ngIf="!validator.isValid('productCategory')" class="invalid-feedback" style="display:block">
                                      <div *ngFor="let error of validator.getErrors('productCategory')">{{ error | translate }}</div>
                                    </div>
                                  </div>
                                </div> -->
                      <div class="col-sm-3 col-md-3 col-lg-3 mobile-margin-top-15">
                        <div class="my-input-group">
                          <label style="text-align:left" class="control-label required">{{
                            'EDIT_CUSTOMER_SERVICECONFIG.ServiceType' | translate }}</label>
                          <ng-select [items]="serviceTypeList" [multiple]="false" [closeOnSelect]="true"
                            [searchable]="true" bindLabel="name" bindValue="id" [loading]="serviceTypeLoading"
                            placeholder="--- {{(serviceTypeList && serviceTypeList.length>0?
                                        'COMMON.LBL_SELECT':'COMMON.LBL_NO_DATA')  | translate }} ---"
                            [(ngModel)]="model.serviceType"
                            [ngClass]="{ 'is-invalid': !validator.isValid('serviceType')}">
                          </ng-select>
                          <div *ngIf="!validator.isValid('serviceType')" class="invalid-feedback" style="display:block">
                            <div *ngFor="let error of validator.getErrors('serviceType')">{{ error | translate }}</div>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                  <div class="panel-footer">
                    <div class="row">
                    </div>

                  </div>
                </div>
              </div>
            </div>
            <div>
              <div class="panel-group">
                <div class="panel panel-primary" style="margin-top:10px;overflow:unset">
                  <div id="bscsearch" class="panel-collapse in">
                    <div class="panel-body">

                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label"> {{
                              'EDIT_CUSTOMER_SERVICECONFIG.PickType' | translate }}</label>
                            <ng-select [items]="pickTypeList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.pickType" (change)="changePickType()">
                            </ng-select>

                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15">
                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label"> {{
                              'EDIT_CUSTOMER_SERVICECONFIG.LevelPick1' | translate }}</label>
                            <ng-select [items]="levelPickFirstList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.levelPick1">
                            </ng-select>

                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15" *ngIf="!isDoubleData">
                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label">{{
                              'EDIT_CUSTOMER_SERVICECONFIG.LevelPick2' | translate }}</label>
                            <ng-select [items]="levelPickSecondList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.levelPick2">
                            </ng-select>
                          </div>
                        </div>
                      </div>

                      <!-- <div class="row marginTop15">
                                  <div class="col-sm-4 col-md-4 col-lg-4">
                                      <div class="my-input-group">
                                        </div>
                                      </div>
                                  <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15">
                                    <div class="my-input-group">
                                      <label style="text-align:left" class="control-label">Pick1</label>
                                    </div>
                                  </div>
                                  <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15" *ngIf="!isDoubleData">
                                    <div class="my-input-group">
                                        <label style="text-align:left" class="control-label">Pick2</label>
                                    </div>
                                  </div>
                                </div> -->

                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.Critical' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15">
                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label">{{ 'EDIT_CUSTOMER_SERVICECONFIG.Pick1'
                              | translate }}</label>
                            <ng-select [items]="pickFirstList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.criticalPick1">
                            </ng-select>
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15" *ngIf="!isDoubleData">

                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label">{{ 'EDIT_CUSTOMER_SERVICECONFIG.Pick2'
                              | translate }}</label>
                            <ng-select [items]="pickSecondList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.criticalPick2">
                            </ng-select>
                          </div>
                        </div>
                      </div>

                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.MajorTolerance' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15">
                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label">{{ 'EDIT_CUSTOMER_SERVICECONFIG.Pick1'
                              | translate }}</label>
                            <ng-select [items]="pickFirstList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.majorTolerancePick1">
                            </ng-select>
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15" *ngIf="!isDoubleData">
                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label">{{ 'EDIT_CUSTOMER_SERVICECONFIG.Pick2'
                              | translate }}</label>
                            <ng-select [items]="pickSecondList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.majorTolerancePick2">
                            </ng-select>
                          </div>
                        </div>
                      </div>

                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.MinorTolerance' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15">
                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label">{{ 'EDIT_CUSTOMER_SERVICECONFIG.Pick1'
                              | translate }}</label>
                            <ng-select [items]="pickFirstList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.minorTolerancePick1">
                            </ng-select>
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15" *ngIf="!isDoubleData">
                          <div class="my-input-group">
                            <label style="text-align:left" class="control-label">{{ 'EDIT_CUSTOMER_SERVICECONFIG.Pick2'
                              | translate }}</label>
                            <ng-select [items]="pickSecondList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.minorTolerancePick2">
                            </ng-select>
                          </div>
                        </div>
                      </div>

                      <!-- DP_Point -->
                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.DP_POINT' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15">
                          <div class="my-input-group">
                            <!-- <label style="text-align:left" class="control-label">{{ 'EDIT_CUSTOMER_SERVICECONFIG.Pick1' | translate }}</label> -->
                            <ng-select [items]="dpPointList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.dpPoint">
                            </ng-select>
                          </div>
                        </div>

                      </div>
                      <!-- DP_Point End -->

                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">

                        </div>

                        <div class="col-sm-2 col-md-2 col-lg-2">
                          <div class="my-input-group">
                            <div class="styled-checkbox-container">
                              <input class="styled-checkbox" id="checkbox-1" type="checkbox"
                                [(ngModel)]="model.allowAQLModification" (change)="doCheck($event)">
                              <label for="checkbox-1">{{ 'EDIT_CUSTOMER_SERVICECONFIG.AllowAQLModification' | translate
                                }}</label>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-2 col-md-2 col-lg-2">
                          <div class="my-input-group">
                            <div class="styled-checkbox-container">
                              <input class="styled-checkbox" id="checkbox-ial" type="checkbox"
                                [(ngModel)]="model.ignoreAcceptanceLevel">
                              <label for="checkbox-ial">{{ 'EDIT_CUSTOMER_SERVICECONFIG.IgnoreAcceptanceLevel' |
                                translate }}</label>
                            </div>
                          </div>
                        </div>

                      </div>
              
                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.DefectClassification' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-8 col-md-8 col-lg-8 mobile-margin-top-15">
                          <div class="my-input-group">
                            <ng-select [items]="defectClassificationList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.defectClassification">
                            </ng-select>
                          </div>
                        </div>

                      </div>

                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.CheckMeasurementPoints' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-8 col-md-8 col-lg-8 mobile-margin-top-15">
                          <div class="my-input-group">
                            <div class="styled-radio-container">
                              <input type="radio" class="styled-radio" id="isYes" name="radMeasurementPoint"
                                [(ngModel)]="model.checkMeasurementPoints" [value]="true">
                              <label for="isYes">{{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_YES' | translate }}</label>
                            </div>
                            <div class="styled-radio-container">
                              <input type="radio" class="styled-radio" id="isNo" name="radMeasurementPoint"
                                [(ngModel)]="model.checkMeasurementPoints" [value]="false">
                              <label for="isNo">{{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_NO' | translate }}</label>
                            </div>
                          </div>
                        </div>

                      </div>

                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.ReportUnit' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-8 col-md-8 col-lg-8 mobile-margin-top-15">
                          <div class="my-input-group">
                            <ng-select [items]="reportUnitList" [multiple]="false" [closeOnSelect]="true"
                              [searchable]="true" bindLabel="value" bindValue="id" [loading]="initialLoading"
                              placeholder="--- {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_SELECT' | translate }}---"
                              [(ngModel)]="model.reportUnit">
                            </ng-select>
                          </div>
                        </div>

                      </div>
                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_CUSTOM_SERVICETYPE' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15">
                          <div class="my-input-group">
                            <input type="text" maxlength="1500" [(ngModel)]="model.customServicetypeName" />
                          </div>
                        </div>
                      </div>

                      <div class="row marginTop15">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                          <div class="my-input-group">
                            {{ 'EDIT_CUSTOMER_SERVICECONFIG.LBL_CUSTOM_REQ_INDEX' | translate }}
                          </div>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4 mobile-margin-top-15">
                          <div class="my-input-group">
                            <input type="number" min="1" max="100" minlength="0" maxlength="10"
                              [(ngModel)]="model.customerRequirementIndex"
                              (input)="validateCustomerRequirementIndex($event)"
                              (keypress)="customerReqIndexValidation($event,1);" />
                          </div>
                        </div>
                      </div>



                    </div>
                  </div>
                </div>
              </div>

            </div>



          </div>
          <div class="form-action-container">
            <!--  <button class="secondary-cta small" [disabled]="savedataloading ||initialLoading"
                 (click)="return('cusservicesearch/customer-serviceconfig');">
                    {{'EDIT_CUSTOMER_SERVICECONFIG.LBL_RETURN' | translate}}
                </button> -->
            <button type="button" [disabled]="initialLoading" class="secondary-cta small" (click)="reset();">
              {{'EDIT_CUSTOMER_SERVICECONFIG.LBL_RESET' | translate}}
            </button>

            <button *ngIf="fromSummary" [disabled]="savedataloading ||initialLoading" type="button"
              class="primary-cta small" (click)="save()">
              {{'EDIT_CUSTOMER_SERVICECONFIG.LBL_SAVE' | translate}}
              <span *ngIf="savedataloading">
                <i class="fa fa-refresh fa-spin" aria-hidden="true"></i>
              </span>
            </button>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>